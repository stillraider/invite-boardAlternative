let customers=document.querySelector(".customers"),header=document.querySelector(".header"),navigation=document.querySelector(".navigation"),inviteBoard=document.querySelector(".invite-board");function BoardManager(){!function(){let e=inviteBoard.querySelector(".invite-board__container").children,n=e[0].querySelectorAll(".invite-board__tabs_item"),o=n[0],l=e[1];for(let e=0;e<n.length;e++)n[e].addEventListener("click",(function(){r(e),i(e),t()}));function r(t){l.classList.remove("isActiveInviteBoard"),l=e[t+1],l.classList.add("isActiveInviteBoard")}function i(e){o.classList.remove("isActiveTab"),o=n[e],o.classList.add("isActiveTab")}}(),function(){function e(e,t,n){e.querySelector(n).innerText=e.querySelector(t).innerText}(function(){let e=document.querySelectorAll(".filter__name");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){e[t].classList.toggle("isActiveAlphabetically")}))})(),function(){function e(e){let t=document.querySelectorAll(".users__item-editor_input-"+e);for(let o=0;o<t.length;o++){let l=t[o],r=l.closest(".users__wrapper").querySelector(".users__info_"+e);function n(){r.innerHTML=l.value}l.value=r.innerText,l.addEventListener("input",n)}}e("name"),e("email")}(),function(){const e=["statusInvited","statusActive"];let t=document.querySelectorAll(".users__select select");for(let l=0;l<t.length;l++){let r=t[l],i=r.closest(".users__wrapper").querySelector(".users__info_status");function n(){let t=i.getAttribute("class").replace("users__info_status ",""),n=e.indexOf(t);r.querySelectorAll("option")[n].selected="selected"}function o(){i.setAttribute("class","users__info_status"),i.classList.add(e[r.value])}n(),t[l].addEventListener("change",o)}}(),function(){let t=document.querySelectorAll(".users__edit");for(let o=0;o<t.length;o++){let l=t[o].closest(".users__item"),r=l.querySelector(".users__info"),i=l.querySelector(".users__item-editor_wrapper");function n(){let n="flex"==r.style.display;function l(e,t){r.style.display=e,i.style.display=t}t[o].classList.toggle("isActiveCheck"),e(r.parentNode,".select__current",".users__info_role"),n?l("none","flex"):l("flex","none")}r.style.display="flex",e(r.parentNode,".users__info_role",".select__current"),t[o].addEventListener("click",n)}}(),function(){let e=document.querySelectorAll(".users__del");for(let n=0;n<e.length;n++){let o=e[n].closest(".users");function t(){o.remove()}e[n].addEventListener("click",t)}}()}(),function(){let t=document.querySelector(".invite-user");function n(){let e=t.querySelectorAll(".invite-user__item_remove");for(let t=0;t<e.length;t++){let n=e[t],o=n.parentNode;n.addEventListener("click",(function(){o.remove()}))}}(function(){let o=t.querySelector(".invite-user__add-item"),l=t.querySelector(".invite-user__inner-content"),r=t.querySelector(".invite-user__item"),i=r.cloneNode(!0);function c(e){e.classList.remove("isActiveTooltip"),e.offsetWidth,e.classList.add("isActiveTooltip")}function s(e){e.preventDefault(),c(this.parentNode)}o.addEventListener("click",(function(){let t=document.querySelectorAll(".invite-user__input"),o=!0;for(let e=0;e<t.length;e++){let n=t[e];if(""==n.value||!n.value.match("@.")){let e=n.parentNode;o=!1,c(e)}}if(o){let t=i.cloneNode(!0);l.appendChild(t),t.querySelector("input").oninvalid=s,e.InitDropdowns(),e.DisableLastOpened(),n()}})),r.querySelector("input").addEventListener("invalid",s)})(),n()}();let e=new function(){let e,t=this;this.InitDropdowns=function(){let n,o,l=document.querySelector(".select__item"),r=l.querySelectorAll(".select__header"),i=l.querySelectorAll(".select__item");for(let e=0;e<r.length;e++){let l=r[e];function c(){let e=this.parentNode;o=e,e.querySelector(".select__icon").classList.toggle("rotateIcon"),e.classList.toggle("is-active"),t.ChangeCurrent(l,o),t.DisableLastOpened(e)}l.onclick=c,n=l}for(let l=0;l<i.length;l++){function s(){let l=this.innerText,r=this.closest(".select"),i=r.querySelector(".select__current");r.classList.remove("is-active"),i.innerHTML=l,e.querySelector(".select__icon").classList.remove("rotateIcon"),t.ChangeCurrent(n,o)}i[l].onclick=s}},this.DisableLastOpened=function(t){null!=e&&t!=e&&(e.classList.remove("is-active"),e.querySelector(".select__icon").classList.remove("rotateIcon")),e=t},this.ChangeCurrent=function(e,t){t.closest(".pop-up__block")&&(e.classList.toggle("changeBorder"),e.querySelector(".select__current").classList.toggle("changeColor"))}};function t(){let e=document.querySelectorAll(".isActiveTooltip");for(let t=0;t<e.length;t++)e[t].classList.remove("isActiveTooltip")}e.InitDropdowns()}function NavigationBoard(){!function(){let e=header.querySelector(".header__burger"),t=navigation.querySelector(".navigation__list"),n=t.querySelector(".navigation__icon-items");inviteBoard.style.marginLeft=n.offsetWidth+"px",e.addEventListener("click",(function(){let e=n.offsetWidth,o=t.offsetWidth;t.parentNode.offsetWidth<o?(t.parentNode.style.width=o+"px",inviteBoard.style.marginLeft=o+"px"):(t.parentNode.style.width=e+"px",inviteBoard.style.marginLeft=e+"px")}))}(),function(){let e=navigation.querySelector(".manage"),t=navigation.querySelector(".workflows"),n=navigation.querySelector(".user"),o=customers.querySelector(".customers__button"),l=document.querySelector(".board"),r=l.querySelector(".board__home"),i=navigation.querySelector(".dashboard");function c(e,t,n){document.querySelector("body").style.overflowY=e,l.style.display=t,header.style.display=n,navigation.style.display=n,inviteBoard.style.display=n}function s(e,t,n,o,r){let i=document.querySelector(".management"),c=inviteBoard.querySelector(".invite-board__container"),s=document.querySelector(".dashboards");i.style.display=e,customers.style.display=t,c.style.display=n,l.style.display=o,s.style.display=r}e.addEventListener("click",(function(){s("block","none","none","none","none")})),i.addEventListener("click",(function(){s("none","none","none","none","block")})),r.addEventListener("click",(function(){c("scroll","none","block")})),o.addEventListener("click",(function(){c("hidden","block","none")})),t.addEventListener("click",(function(){s("none","block","none","none","none")})),n.addEventListener("click",(function(){s("none","none","block","none","none")}))}()}function OpenModalWindow(){!function(){let e=header.querySelector(".header__headline_user"),t=document.querySelector(".usermenu");function n(e){e.target.classList.contains("header__headline_user")||e.target.closest(".usermenu")||(o("0","none"),document.body.removeEventListener("click",n))}function o(e,n){t.style.opacity=e,t.style.pointerEvents=n}e.addEventListener("click",(function(){o("1","visible"),document.body.addEventListener("click",n)}))}(),function(){let e=document.querySelectorAll(".content"),t=document.querySelector(".window-manage");for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(){n()}))}function n(){l("translateX(-15px)"),document.body.addEventListener("click",o)}function o(e){e.target.classList.contains("content")||e.target.closest(".window-manage")||(l("translateX(342px)"),document.body.removeEventListener("click",o))}function l(e){t.style.transform=e}}(),function(){let e=customers.querySelectorAll(".customers__item_info"),t=document.querySelector(".window-workFlows");for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(){n()}))}function n(){l("translateX(0)"),document.body.addEventListener("click",o)}function o(e){e.target.classList.contains("customers__item_info")||e.target.closest(".window-workFlows")||(l("translateX(407px)"),document.body.removeEventListener("click",o))}function l(e){t.style.transform=e}}()}function HeaderActions(){!function(){let e=header.querySelector(".header__mode"),t=e.querySelectorAll(".header__mode_item"),n=e.querySelector(".header__mode_elem");for(let e=0;e<t.length;e++){let o=t[e];o.addEventListener("click",(function(){let e=o.getAttribute("class").replace("header__mode_item ",""),t=o.innerText;n.setAttribute("class","header__mode_elem"),n.classList.add(e),n.innerHTML=t,o.parentNode.style.display="none"}))}n.addEventListener("click",(function(){header.querySelector(".header__mode-wrapper").style.display="block"}))}(),function(){let e=document.querySelector(".header__phone");e.addEventListener("click",(function(){e.classList.toggle("phoneActive")}))}(),function(){let e=header.querySelector(".header__wrapper-search"),t=e.querySelector(".header__calendar"),n=e.querySelector("#calendar");t.addEventListener("click",(function(){n.classList.toggle("calendarVisible")}))}()}function ControlCustomers(){let e=customers.querySelector(".customers__content"),t=customers.querySelector(".customers__menu");!function(){let n=Array.prototype.slice.call(e.querySelectorAll(".customers__more")),o=0;for(let e=0;e<n.length;e++){let l=n[e];l.addEventListener("click",(function(){let e="block"==t.style.display,r=c();t.style.top=46*r+67+"px",t.style.display="block",e&&o==r&&(t.style.display="none"),o=r;let i=l.closest(".customers__item");function c(){return n.indexOf(l)}TakeWorkflowName=function(e){e.value=i.querySelector(".info-name").innerText},ChangeWorkflowName=function(e){i.querySelector(".info-name").innerText=e.value},DeleteWorkflowItem=function(){i.remove(),n.splice(c(),1)}}))}}(),function(){let e=customers.querySelectorAll(".customers__menu_item"),n=header.querySelector(".header__container"),o=customers.querySelector(".customers__wrap-content"),l=o.querySelectorAll(".pop-up"),r=o.querySelectorAll(".pop-up__cancel"),i=o.querySelectorAll(".pop-up__apply");for(let o=0;o<e.length;o++){let a=e[o],u=r[o],d=i[o];function c(e,r,i){document.querySelector("body").style.overflowY=e,n.style.paddingRight=r,l[o].style.display=i,t.style.display="none"}a.addEventListener("click",(function(){c("hidden","37px","block"),1==o&&TakeWorkflowName(s(1))})),u.addEventListener("click",(function(){c("scroll","20px","none")})),d.addEventListener("click",(function(){c("scroll","20px","none"),1==o&&ChangeWorkflowName(s(1)),3==o&&DeleteWorkflowItem()}))}function s(e){return l[e].querySelector(".pop-up__input")}}(),function(){let e=customers.querySelectorAll(".customers__switch_item"),t=customers.querySelectorAll(".customers__wrapper"),n=2;for(let o=0;o<e.length;o++){e[o].addEventListener("click",(function(){t[n].style.display="none",e[n].classList.remove("isActiveSwitch"),t[n=o].style.display="flex",e[n=o].classList.add("isActiveSwitch")}))}}()}function auto_grow(e){e.style.height="5px",e.style.height=e.scrollHeight+"px"}BoardManager(),NavigationBoard(),OpenModalWindow(),HeaderActions(),ControlCustomers();