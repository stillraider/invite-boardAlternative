function BoardManager(){!function(){let e=document.querySelector(".invite-board__container").children,n=e[0].querySelectorAll(".invite-board__tabs_item"),o=n[0],l=e[1];for(let e=0;e<n.length;e++)n[e].addEventListener("click",(function(){r(e),c(e),t()}));function r(t){l.classList.remove("isActiveInviteBoard"),l=e[t+1],l.classList.add("isActiveInviteBoard")}function c(e){o.classList.remove("isActiveTab"),o=n[e],o.classList.add("isActiveTab")}}(),function(){function e(e,t,n){e.querySelector(n).innerText=e.querySelector(t).innerText}(function(){let e=document.querySelectorAll(".filter__name");for(let t=0;t<e.length;t++)e[t].addEventListener("click",(function(){e[t].classList.toggle("isActiveAlphabetically")}))})(),function(){function e(e){let t=document.querySelectorAll(".users__item-editor_input-"+e);for(let o=0;o<t.length;o++){let l=t[o],r=l.closest(".users__wrapper").querySelector(".users__info_"+e);function n(){r.innerHTML=l.value}l.value=r.innerText,l.addEventListener("input",n)}}e("name"),e("email")}(),function(){const e=["statusInvited","statusActive"];let t=document.querySelectorAll(".users__select select");for(let l=0;l<t.length;l++){let r=t[l],c=r.closest(".users__wrapper").querySelector(".users__info_status");function n(){let t=c.getAttribute("class").replace("users__info_status ",""),n=e.indexOf(t);r.querySelectorAll("option")[n].selected="selected"}function o(){c.setAttribute("class","users__info_status"),c.classList.add(e[r.value])}n(),t[l].addEventListener("change",o)}}(),function(){let t=document.querySelectorAll(".users__edit");for(let o=0;o<t.length;o++){let l=t[o].closest(".users__item"),r=l.querySelector(".users__info"),c=l.querySelector(".users__item-editor_wrapper");function n(){let n="flex"==r.style.display;function l(e,t){r.style.display=e,c.style.display=t}t[o].classList.toggle("isActiveCheck"),e(r.parentNode,".select__current",".users__info_role"),n?l("none","flex"):l("flex","none")}r.style.display="flex",e(r.parentNode,".users__info_role",".select__current"),t[o].addEventListener("click",n)}}(),function(){let e=document.querySelectorAll(".users__del");for(let n=0;n<e.length;n++){let o=e[n].closest(".users");function t(){o.remove()}e[n].addEventListener("click",t)}}()}(),function(){function t(){let e=document.querySelectorAll(".invite-user__item_remove");for(let t=0;t<e.length;t++){let n=e[t],o=n.parentNode;n.addEventListener("click",(function(){o.remove()}))}}(function(){let n=document.querySelector(".invite-user__add-item"),o=document.querySelector(".invite-user__inner-content"),l=document.querySelector(".invite-user__item"),r=l.cloneNode(!0);function c(e){e.classList.remove("isActiveTooltip"),e.offsetWidth,e.classList.add("isActiveTooltip")}function i(e){e.preventDefault();let t=this.parentNode;console.log(t),c(t)}n.addEventListener("click",(function(){let n=document.querySelectorAll(".invite-user__input"),l=!0;for(let e=0;e<n.length;e++){let t=n[e];if(""==t.value||!t.value.match("@.")){let e=t.parentNode;l=!1,c(e)}}if(l){let n=r.cloneNode(!0);o.appendChild(n),n.querySelector("input").oninvalid=i,e.InitDropdowns(),e.DisableLastOpened(),t()}})),l.querySelector("input").addEventListener("invalid",i)})(),t()}();let e=new function(){let e,t=this;this.InitDropdowns=function(){let n=document.querySelectorAll(".select__header"),o=document.querySelectorAll(".select__item");for(let e=0;e<n.length;e++){function l(){let e=this.parentNode;e.querySelector(".select__icon").classList.toggle("rotateIcon"),e.classList.toggle("is-active"),t.DisableLastOpened(e)}n[e].onclick=l}for(let t=0;t<o.length;t++){function r(){let t=this.innerText,n=this.closest(".select"),o=n.querySelector(".select__current");n.classList.remove("is-active"),o.innerHTML=t,e.querySelector(".select__icon").classList.remove("rotateIcon")}o[t].onclick=r}},this.DisableLastOpened=function(t){null!=e&&t!=e&&(e.classList.remove("is-active"),e.querySelector(".select__icon").classList.remove("rotateIcon")),e=t}};function t(){let e=document.querySelectorAll(".isActiveTooltip");for(let t=0;t<e.length;t++)e[t].classList.remove("isActiveTooltip")}e.InitDropdowns()}function NavigationBoard(){!function(){let e=document.querySelector(".navigation__burger"),t=document.querySelector(".navigation__list"),n=document.querySelector(".invite-board"),o=t.parentNode,l=t.offsetWidth;o.style.left=-l-10+"px",e.addEventListener("click",(function(){let e=o.style.left<"0"?0:-l-10;o.style.left=e+"px",n.style.marginLeft=e+l+10+"px"}))}(),function(){let e=document.querySelector(".manage"),t=document.querySelector(".workflows"),n=document.querySelector(".user"),o=document.querySelector(".management"),l=document.querySelector(".invite-board__container"),r=document.querySelector(".table-workflows");function c(e,t,n){o.style.display=e,r.style.display=t,l.style.display=n}e.addEventListener("click",(function(){c("block","none","none")})),t.addEventListener("click",(function(){c("none","block","none")})),n.addEventListener("click",(function(){c("none","none","block")}))}(),function(){let e=document.querySelector(".navigation__list_items-inner"),t=document.querySelector(".navigation__list_items-arrow"),n=e.querySelector(".navigation__header").offsetHeight,o=e.querySelector(".navigation__footer").offsetHeight;e.addEventListener("click",(function(){t.classList.toggle("rotateIcon"),e.style.height=(e.offsetHeight>n?n:n+o)+"px"}))}()}function OpenModalWindow(){!function(){let e=document.querySelector(".header__headline_user"),t=document.querySelector(".usermenu");function n(e){e.target.classList.contains("header__headline_user")||e.target.closest(".usermenu")||(o("0","none"),document.body.removeEventListener("click",n))}function o(e,n){t.style.opacity=e,t.style.pointerEvents=n}e.addEventListener("click",(function(){o("1","visible"),document.body.addEventListener("click",n)}))}(),function(){let e=document.querySelectorAll(".table__content"),t=document.querySelector(".window-manage");for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(){n()}))}function n(){l("translateX(-15px)"),document.body.addEventListener("click",o)}function o(e){e.target.classList.contains("table__content")||e.target.closest(".window-manage")||(l("translateX(342px)"),document.body.removeEventListener("click",o))}function l(e){t.style.transform=e}}(),function(){let e=document.querySelectorAll(".table-workflows__item_info"),t=document.querySelector(".window-workFlows");for(let t=0;t<e.length;t++){e[t].addEventListener("click",(function(){n()}))}function n(){l("translateX(0)"),document.body.addEventListener("click",o)}function o(e){e.target.classList.contains("table-workflows__item_info")||e.target.closest(".window-workFlows")||(l("translateX(407px)"),document.body.removeEventListener("click",o))}function l(e){t.style.transform=e}}()}function ActiveCalendar(){let e=document.querySelector(".header__calendar"),t=document.querySelector("#calendar");e.addEventListener("click",(function(){t.classList.toggle("calendarVisible")}))}function movingIcon(){let e=document.querySelectorAll(".header__mode_item"),t=document.querySelector(".header__mode_elem");for(let n=0;n<e.length;n++){let o=e[n];o.addEventListener("click",(function(){let e=o.getAttribute("class").replace("header__mode_item ",""),n=o.innerText;t.setAttribute("class","header__mode_elem"),t.classList.add(e),t.innerHTML=n,o.parentNode.style.display="none"}))}t.addEventListener("click",(function(){document.querySelector(".header__mode-wrapper").style.display="block"}))}function testWebP(e){var t=new Image;t.onload=t.onerror=function(){e(2==t.height)},t.src="data:image/webp;base64,UklGRjoAAABXRUJQVlA4IC4AAACyAgCdASoCAAIALmk0mk0iIiIiIgBoSygABc6WWgAA/veff/0PP8bA//LwYAAA"}function calendar(e,t,n){var o=new Date(t,n+1,0).getDate(),l=new Date(t,n,o),r=new Date(l.getFullYear(),l.getMonth(),o).getDay(),c=new Date(l.getFullYear(),l.getMonth(),1).getDay(),i="<tr>";n=["Январь","Февраль","Март","Апрель","Май","Июнь","Июль","Август","Сентябрь","Октябрь","Ноябрь","Декабрь"];if(0!=c)for(var a=1;a<c;a++)i+="<td>";else for(a=0;a<6;a++)i+="<td>";for(a=1;a<=o;a++)a==(new Date).getDate()&&l.getFullYear()==(new Date).getFullYear()&&l.getMonth()==(new Date).getMonth()?i+='<td class="today">'+a:i+="<td>"+a,0==new Date(l.getFullYear(),l.getMonth(),a).getDay()&&(i+="<tr>");for(a=r;a<7;a++)i+="<td>&nbsp;";document.querySelector("#"+e+" tbody").innerHTML=i,document.querySelector("#"+e+" thead td:nth-child(2)").innerHTML=n[l.getMonth()]+" "+l.getFullYear(),document.querySelector("#"+e+" thead td:nth-child(2)").dataset.month=l.getMonth(),document.querySelector("#"+e+" thead td:nth-child(2)").dataset.year=l.getFullYear(),document.querySelectorAll("#"+e+" tbody tr").length<6&&(document.querySelector("#"+e+" tbody").innerHTML+="<tr><td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;<td>&nbsp;")}BoardManager(),NavigationBoard(),OpenModalWindow(),ActiveCalendar(),movingIcon(),testWebP((function(e){1==e&&document.querySelector("body").classList.add("webp")})),function(){let e=[],t=document.querySelectorAll("[data-da]"),n=[],o=[];if(t.length>0){let a=0;for(let o=0;o<t.length;o++){const l=t[o],i=l.getAttribute("data-da");if(""!=i){const t=i.split(","),o=t[1]?t[1].trim():"last",s=t[2]?t[2].trim():"767",d="min"===t[3]?t[3].trim():"max",u=document.querySelector("."+t[0].trim());t.length>0&&u&&(l.setAttribute("data-da-index",a),e[a]={parent:l.parentNode,index:(r=l,c=void 0,c=Array.prototype.slice.call(r.parentNode.children),c.indexOf(r))},n[a]={element:l,destination:document.querySelector("."+t[0].trim()),place:o,breakpoint:s,type:d},a++)}}(l=n).sort((function(e,t){return e.breakpoint>t.breakpoint?-1:1})),l.sort((function(e,t){return e.place>t.place?1:-1}));for(let e=0;e<n.length;e++){const t=n[e],l=t.breakpoint,r=t.type;o.push(window.matchMedia("("+r+"-width: "+l+"px)")),o[e].addListener(i)}}var l,r,c;function i(e){for(let e=0;e<n.length;e++){const t=n[e],l=t.element,r=t.destination,c=t.place,i="_dynamic_adapt_"+t.breakpoint;if(o[e].matches){if(!l.classList.contains(i)){let e=s(r)[c];"first"===c?e=s(r)[0]:"last"===c&&(e=s(r)[s(r).length]),r.insertBefore(l,r.children[e]),l.classList.add(i)}}else l.classList.contains(i)&&(a(l),l.classList.remove(i))}}function a(t){const n=t.getAttribute("data-da-index"),o=e[n],l=o.parent,r=o.index,c=s(l,!0)[r];l.insertBefore(t,l.children[c])}function s(e,t){const n=e.children,o=[];for(let e=0;e<n.length;e++){const l=n[e];(t||null==l.getAttribute("data-da"))&&o.push(e)}return o}i()}(),calendar("calendar",(new Date).getFullYear(),(new Date).getMonth()),document.querySelector("#calendar thead tr:nth-child(1) td:nth-child(1)").onclick=function(){calendar("calendar",document.querySelector("#calendar thead td:nth-child(2)").dataset.year,parseFloat(document.querySelector("#calendar thead td:nth-child(2)").dataset.month)-1)},document.querySelector("#calendar thead tr:nth-child(1) td:nth-child(3)").onclick=function(){calendar("calendar",document.querySelector("#calendar thead td:nth-child(2)").dataset.year,parseFloat(document.querySelector("#calendar thead td:nth-child(2)").dataset.month)+1)};